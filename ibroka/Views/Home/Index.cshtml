@model  ibroka.ViewModel.HomeDashboardViewModel

@{
  ViewData["Title"] = "Home Page";
}

  <div class="content">

    @Html.Partial("~/Views/Manage/_StatusMessage.cshtml", ViewData["StatusMessage"])


    <style>
      .body-card {
        margin-left: 2%;
        margin-right: 2%;
        margin-top: 1%;
        margin-bottom: 2%;
      }

      .table-font {
        font-weight: 500;
      }

      .iconstyle {
        font-size: 25px;
        margin-top: 20px;
      }

      .link {
        text-decoration: none;
      }

      #chartdiv {
        width: 100%;
        height: 390px;
      }

      #chartdivs {
        width: 100%;
        height: 500px;
      }

      #chartdive {
        width: 100%;
        height: 500px;
      }

      .picture {
        background: fixed;
      }

        .picture:hover {
          border-radius: 7px;
          box-shadow: 0 0 11px rgba(33,33,33,.2);
          padding: 10px;
        }

      .amcharts-chart-div > a {
        display: none !important;
      }
    </style>

    @*<div class="row">
      <div class="col-md-12">
        <div class="card card-stats card-raised">
          <div class="card-body">
            <div class="row">
              <div class="col-md-3">
                <div class="statistics">
                  <div class="info">
                    <div class="icon icon-primary">
                      <i class="now-ui-icons ui-2_chat-round"></i>
                    </div>
                    <h3 class="info-title">859</h3>
                    <h6 class="stats-title">Messages</h6>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="statistics">
                  <div class="info">
                    <div class="icon icon-success">
                      <i class="now-ui-icons business_money-coins"></i>
                    </div>
                    <h3 class="info-title">
                      <small>$</small>3,521
                    </h3>
                    <h6 class="stats-title">Today Revenue</h6>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="statistics">
                  <div class="info">
                    <div class="icon icon-info">
                      <i class="now-ui-icons users_single-02"></i>
                    </div>
                    <h3 class="info-title">562</h3>
                    <h6 class="stats-title">Customers</h6>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="statistics">
                  <div class="info">
                    <div class="icon icon-danger">
                      <i class="now-ui-icons objects_support-17"></i>
                    </div>
                    <h3 class="info-title">353</h3>
                    <h6 class="stats-title">Support Requests</h6>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>*@

    <div class="row">
      <!-- Column -->

      <div class="container-fluid">
        <div>

          @if (ViewBag.IsOrg == "NotRegistered")
          {
            <div class="card-body col-lg-12">
              <div style="text-align:center;">
                <h1 class="d-inline">Welcome to iBROKA <a href="#code1" data-toggle="collapse">@*<i class="fa fa-code" data-toggle="tooltip" title="Get code"></i>*@</a></h1>
                <p class="text-muted m-t-0">Before you proceed, kindly update your organisation details.</p>

                <a href="/Organisation/MyOrganisation" class="btn btn-lg btn-success">Click to Update</a>
              </div>
            </div>

          }
          else
          {



            <div>
              <div class="row">
                <div class="col-lg-3 col-sm-6">
                  <div class="card card-stats">
                    <div class="card-body ">
                      <div class="statistics statistics-horizontal">
                        <div class="info info-horizontal">
                          <div class="row">
                            <div class="col-3">
                              <div class="icon icon-primary icon-circle">
                                <i class="now-ui-icons users_single-02"></i>
                              </div>
                            </div>
                            <div class="col-9 text-right">
                              <h3 class="info-title">@Model.HumanCapacityReport</h3>
                              <h6 class="stats-title">HR Report</h6>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr>
                    <div class="card-footer ">
                      <div class="stats">
                        <i class="now-ui-icons users_circle-08"></i> Employee Report
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                  <div class="card card-stats">
                    <div class="card-body ">
                      <div class="statistics statistics-horizontal">
                        <div class="info info-horizontal">
                          <div class="row">
                            <div class="col-5">
                              <div class="icon icon-warning icon-circle">
                                <i class="now-ui-icons business_money-coins"></i>
                              </div>
                            </div>
                            <div class="col-7 text-right">
                              <h3 class="info-title">
                                <span>₦</span>0
                              </h3>
                              <h6 class="stats-title">Revenue</h6>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr>
                    <div class="card-footer ">
                      <div class="stats">
                        <i class="now-ui-icons files_paper"></i> Total Amount
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                  <div class="card card-stats">
                    <div class="card-body ">
                      <div class="statistics statistics-horizontal">
                        <div class="info info-horizontal">
                          <div class="row">
                            <div class="col-5">
                              <div class="icon icon-danger icon-circle">
                                <i class="now-ui-icons education_agenda-bookmark"></i>
                              </div>
                            </div>
                            <div class="col-7 text-right">
                              <h3 class="info-title">@Model.Leads</h3>
                              <h6 class="stats-title">Leads</h6>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr>
                    <div class="card-footer ">
                      <div class="stats">
                        <i class="now-ui-icons design_bullet-list-67"></i> All Leads
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-sm-6">
                  <div class="card card-stats">
                    <div class="card-body ">
                      <div class="statistics statistics-horizontal">
                        <div class="info info-horizontal">
                          <div class="row">
                            <div class="col-5">
                              <div class="icon icon-info icon-circle">
                                <i class="now-ui-icons ui-2_favourite-28"></i>
                              </div>
                            </div>
                            <div class="col-7 text-right">
                              <h3 class="info-title">@Model.Clients</h3>
                              <h6 class="stats-title">New clients</h6>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <hr>
                    <div class="card-footer ">
                      <div class="stats">
                        <i class="now-ui-icons emoticons_satisfied"></i> Customer's List
                      </div>
                    </div>
                  </div>
                </div>
              </div>


            </div>

            <div class="">
              <div class="row">

                <div class="col-md-6">
                  <div class="card">
                    <div class="card-header">
                      <h4 class="card-title">Departments</h4>
                      <p class="category">Head Count Per Department</p>
                    </div>
                    <div class="card-body">
                      <div class="chart-area">
                        <div id="chartdiv" style="width: 100%; height: 400px; background-color: #FFFFFF;"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-6">

                  <div class="card card-chart">
                    <div class="card-header ">
                      <h4 class="body-card">Cash Flow</h4>
                    </div>
                    <div class="card-body">


                      <div id="chartdive" style="height: 400px; background-color: #FFFFFF;"></div>

                    </div>
                  </div>
                </div>

              </div>
            </div>

            @*<div class="card-body">
                <h1 class="d-inline">Modules <a href="#code1" data-toggle="collapse">@*<i class="fa fa-code" data-toggle="tooltip" title="Get code"></i></a></h1>
                <p class="text-muted m-t-0">For the module click on above code icon</p>
                <div class="row">
                    <!-- column -->
                    <div class="col-lg-4 col-md-6">
                        <!-- Card -->
                        <div class="card">
                            <img class="card-img-top img-responsive" src="../images/acc.jpg" alt="Card image cap" style="height: 200px;">
                            <div class="card-body">
                                <h4 class="card-title">Accounting & Inventory</h4>
                                <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->
                                <a href="/ACC/Dashboard" class="btn btn-success">Go to Dashboard</a>
                            </div>
                        </div>
                        <!-- Card -->
                    </div>
                    <!-- column -->
                    <!-- column -->
                    <div class="col-lg-4 col-md-6">
                        <!-- Card -->
                        <div class="card">
                            <img class="card-img-top img-responsive" src="../images/crm.jpg" alt="Card image cap" style="height: 200px;">
                            <div class="card-body">
                                <h4 class="card-title">Customer Relationship Manag.</h4>
                                <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the cards.</p> -->
                                <a href="javascript:void(0)" class="btn btn-info">Go to Dashboard</a>
                            </div>
                        </div>
                        <!-- Card -->
                    </div>
                    <!-- column -->
                    <!-- column -->
                    <div class="col-lg-4 col-md-6">
                        <!-- Card -->
                        <div class="card">
                            <img class="card-img-top img-responsive" src="../images/hrm.jpg" alt="Card image cap" style="height: 200px;">
                            <div class="card-body">
                                <h4 class="card-title">Human Resources Manag.</h4>
                                <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->
                                <a href="/HRM/Dashboard" class="btn btn-primary">Go to Dashboard</a>
                            </div>
                        </div>
                        <!-- Card -->
                    </div>
                    <!-- column -->
                </div>
                <!-- Column -->
            </div>*@
            @*<div class="col-md-12">
                <div class="row">
                    @*<div class="col-lg-4">
                <div class="card card-pricing ">
                    <h6 class="card-category"> </h6>
                    <div class="card-body">
                        <img class="card-img-top img-responsive" src="../images/acc.jpg" alt="Card image cap" style="height: 200px;">
                        <div class="card-body">
                            <h4 class="card-title">Accounting & Inventory</h4>

                        </div>
                        <div class="card-icon icon-primary ">
                            <i class="now-ui-icons business_money-coins"></i>
                        </div>
                        <h3 class="card-title">69$</h3>
                    </div>
                    <div class="card-footer">
                      <a asp-action="Index" asp-controller="Estimates" class="btn btn-round btn-primary">Go to Dashboard</a>
                    </div>
                </div>
            </div>*@
            @*<div class="col-lg-4">
                <div class="card card-pricing ">
                    <h6 class="card-category"> </h6>
                    <div class="card-body">
                        <img class="card-img-top img-responsive" src="../images/crm.jpg" alt="Card image cap" style="height: 200px;">
                        <div class="card-body">
                            <h4 class="card-title">Customer Relationship </h4>

                        </div>
                        <div class="card-icon icon-primary ">
                            <i class="now-ui-icons objects_diamond"></i>
                        </div>
                    </div>
                    <div class="card-footer">
                        <a href="/HRM/Dashboard" class="btn btn-round btn-primary">Go to Dashboard</a>
                    </div>
                </div>
            </div>*@
            @*<div class="col-lg-4">
            <div class="card card-pricing ">
                <h6 class="card-category"> </h6>
                <div class="card-body">
                    <img class="card-img-top img-responsive" src="../images/hrm.jpg" alt="Card image cap" style="height: 200px;">
                    <div class="card-body">
                        <h4 class="card-title">Human Resources Management </h4>
                        <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->

                    </div>
                    <div class="card-icon icon-primary ">
                        <a asp-action="DashboardHR" asp-controller="Home">
                            <i class="now-ui-icons files_single-copy-04"></i>
                        </a>
                    </div>
                    @*<h3 class="card-title">69$</h3>
              <ul>
                  <li>Working materials in EPS</li>
                  <li>6 months access to the library</li>
              </ul>*@
            <!--</div>-->
            @*<div class="card-footer">
              <a asp-action="DashboardHR" asp-controller="Home" class="btn btn-round btn-primary">Go to Dashboard</a>
            </div>*@
            <!--</div>-->
            <!-- </div> -->
            @*<div class="col-lg-4">
            <div class="card card-pricing ">
                <h6 class="card-category"> </h6>
                <div class="card-body">
                    <img class="card-img-top img-responsive" src="../images/acc.jpg" alt="Card image cap" style="height: 200px;">
                    <div class="card-body">
                        <h4 class="card-title">Accounting </h4>
                        <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->

                    </div>
                    <div class="card-icon icon-primary ">
                        <a asp-action="DashboardHR" asp-controller="Home">
                            <i class="now-ui-icons business_money-coins"></i>
                        </a>
                    </div>
                    @*<h3 class="card-title">69$</h3>
              <ul>
                  <li>Working materials in EPS</li>
                  <li>6 months access to the library</li>
              </ul>*@
            <!--- </div>-->
            @*<div class="card-footer">
              <a asp-action="DashboardHR" asp-controller="Home" class="btn btn-round btn-primary">Go to Dashboard</a>
            </div>*@
            <!--</div>-->
            <!--</div>-->
            @*<div class="col-lg-4">
            <div class="card card-pricing ">
                <h6 class="card-category"> </h6>
                <div class="card-body">
                    <img class="card-img-top img-responsive" src="../images/crm.jpg" alt="Card image cap" style="height: 200px;">
                    <div class="card-body">
                        <h4 class="card-title">CRM </h4>
                        <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->

                    </div>
                    <div class="card-icon icon-primary ">
                        <a asp-action="DashboardHR" asp-controller="Home">
                            <i class="now-ui-icons files_single-copy-04"></i>
                        </a>
                    </div>
                    @*<h3 class="card-title">69$</h3>
              <ul>
                  <li>Working materials in EPS</li>
                  <li>6 months access to the library</li>
              </ul>*@
            <!--</div>-->
            @*<div class="card-footer">
              <a asp-action="DashboardHR" asp-controller="Home" class="btn btn-round btn-primary">Go to Dashboard</a>
            </div>*@
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->
            <!--</div>-->

            @*<div class="col-md-12">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="card card-pricing ">
                            <h6 class="card-category"> </h6>
                            <div class="card-body">
                                <img class="card-img-top img-responsive" src="../images/bo.png" alt="Card image cap" style="height: 200px;">
                                <div class="card-body">
                                    <h4 class="card-title">Business Operations</h4>
                                    <!-- <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p> -->

                                </div>
                                <div class="card-icon icon-primary ">
                                    <a asp-action="Index" asp-controller="Client">
                                        <i class="now-ui-icons files_single-copy-04"></i>
                                    </a>
                                </div>

                            </div>
                        </div>
                        <div class="col-lg-4">

                        </div>
                        <div class="col-lg-4">

                        </div>
                    </div>
                </div>

            </div>*@
          }
        </div>
      </div>
    </div>

  </div>



<script src="~/assets/js/plugins/chartjs.min.js"></script>



<script type="text/javascript" src="https://www.amcharts.com/lib/3/amcharts.js"></script>
<script type="text/javascript" src="https://www.amcharts.com/lib/3/serial.js"></script>
<script type="text/javascript" src="https://www.amcharts.com/lib/3/themes/light.js"></script>

<!-- Resources -->
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>


<!-- amCharts javascript code -->
<script type="text/javascript">


  AmCharts.makeChart("chartdiv",

    {
      "type": "serial",
      "categoryField": "category",
      "colors": [
        "#54c0f6",
        "#FF69B4",
        "#B0DE09",
        "#0D8ECF",
        "#2A0CD0",
        "#CD0D74",
        "#CC0000",
        "#00CC00",
        "#0000CC",
        "#DDDDDD",
        "#999999",
        "#333333",
        "#990000"
      ],
      "startDuration": 1,
      "categoryAxis": {
        "gridPosition": "start",
        "gridAlpha": 0
      },
      "trendLines": [],
      "graphs": [
        {
          "balloonText": "[[title]] of [[category]]:[[value]]",
          "fillAlphas": 1,
          "id": "AmGraph-1",
          "title": "Male",
          "type": "column",
          "valueField": "column-1"
        },
        {
          "balloonText": "[[title]] of [[category]]:[[value]]",
          "fillAlphas": 1,
          "id": "AmGraph-2",
          "title": "Female",
          "type": "column",
          "valueField": "column-2"
        }
      ],
      "guides": [],
      "valueAxes": [
        {
          "id": "ValueAxis-1",
          "stackType": "regular",
          "title": "No of Employees"
        }
      ],
      "allLabels": [],
      "balloon": {},
      "legend": {
        "enabled": true,
        "useGraphSettings": true
      },
      //"titles": [
      //	{
      //		"id": "Title-1",
      //		"size": 15,
      //		//"text": "Chart Title"
      //	}
      //],
      "dataProvider": [

    @foreach (var item in Model.HeadCounts)
    {

         @:{
         @:"category": "@item.Department",
         @:"column-1": @item.Male,
         @:"column-2": @item.Female,
         @:},

    }


      ]
    }
  );


</script>



<!-- Chart code -->
<script>
  am4core.ready(function () {

    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end

    var chart = am4core.create("chartdive", am4charts.XYChart);

    var data = [];

    chart.data = [{
      "year": "2014",
      "income": 23.5,
      "expenses": 21.1,
      "lineColor": chart.colors.next()
    }, {
      "year": "2015",
      "income": 26.2,
      "expenses": 30.5
    }, {
      "year": "2016",
      "income": 30.1,
      "expenses": 34.9
    }, {
      "year": "2017",
      "income": 20.5,
      "expenses": 23.1
    }, {
      "year": "2018",
      "income": 30.6,
      "expenses": 28.2,
      "lineColor": chart.colors.next()
    }, {
      "year": "2019",
      "income": 34.1,
      "expenses": 31.9
    }, {
      "year": "2020",
      "income": 34.1,
      "expenses": 31.9
    }, {
      "year": "2021",
      "income": 34.1,
      "expenses": 31.9,
      "lineColor": chart.colors.next()
    }, {
      "year": "2022",
      "income": 34.1,
      "expenses": 31.9
    }, {
      "year": "2023",
      "income": 34.1,
      "expenses": 31.9
    }, {
      "year": "2024",
      "income": 34.1,
      "expenses": 31.9
    }];

    var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
    categoryAxis.renderer.grid.template.location = 0;
    categoryAxis.renderer.ticks.template.disabled = true;
    categoryAxis.renderer.line.opacity = 0;
    categoryAxis.renderer.grid.template.disabled = true;
    categoryAxis.renderer.minGridDistance = 40;
    categoryAxis.dataFields.category = "year";
    categoryAxis.startLocation = 0.4;
    categoryAxis.endLocation = 0.6;


    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.tooltip.disabled = true;
    valueAxis.renderer.line.opacity = 0;
    valueAxis.renderer.ticks.template.disabled = true;
    valueAxis.min = 0;

    var lineSeries = chart.series.push(new am4charts.LineSeries());
    lineSeries.dataFields.categoryX = "year";
    lineSeries.dataFields.valueY = "income";
    lineSeries.tooltipText = "income: {valueY.value}";
    lineSeries.fillOpacity = 0.5;
    lineSeries.strokeWidth = 3;
    lineSeries.propertyFields.stroke = "lineColor";
    lineSeries.propertyFields.fill = "lineColor";

    var bullet = lineSeries.bullets.push(new am4charts.CircleBullet());
    bullet.circle.radius = 6;
    bullet.circle.fill = am4core.color("#fff");
    bullet.circle.strokeWidth = 3;

    chart.cursor = new am4charts.XYCursor();
    chart.cursor.behavior = "panX";
    chart.cursor.lineX.opacity = 0;
    chart.cursor.lineY.opacity = 0;

    chart.scrollbarX = new am4core.Scrollbar();
    chart.scrollbarX.parent = chart.bottomAxesContainer;

  }); // end am4core.ready()
</script>


<!-- Chart code -->
<script>
  am4core.ready(function () {

    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end

    // Create chart instance
    var chart = am4core.create("chartdive", am4charts.XYChart);

    // Add data
    //chart.data = [{
    //  "year": "1930",
    //  "italy": 1,
    //  "germany": 5,
    //  "uk": 3
    //}, {
    //  "year": "1934",
    //  "italy": 1,
    //  "germany": 2,
    //  "uk": 6
    //}, {
    //  "year": "1938",
    //  "italy": 2,
    //  "germany": 3,
    //  "uk": 1
    //}, {
    //  "year": "1950",
    //  "italy": 3,
    //  "germany": 4,
    //  "uk": 1
    //}, {
    //  "year": "1954",
    //  "italy": 5,
    //  "germany": 1,
    //  "uk": 2
    //}, {
    //  "year": "1958",
    //  "italy": 3,
    //  "germany": 2,
    //  "uk": 1
    //}, {
    //  "year": "1962",
    //  "italy": 1,
    //  "germany": 2,
    //  "uk": 3
    //}, {
    //  "year": "1966",
    //  "italy": 2,
    //  "germany": 1,
    //  "uk": 5
    //}, {
    //  "year": "1970",
    //  "italy": 3,
    //  "germany": 5,
    //  "uk": 2
    //}, {
    //  "year": "1974",
    //  "italy": 4,
    //  "germany": 3,
    //  "uk": 6
    //}, {
    //  "year": "1978",
    //  "italy": 1,
    //  "germany": 2,
    //  "uk": 4
    //}];

    // Create category axis
    var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
    categoryAxis.dataFields.category = "year";


    // Create value axis
    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.renderer.inversed = true;
    valueAxis.title.text = "Cash Flow";
    valueAxis.renderer.minLabelPosition = 0.01;

    // Create series
    var series1 = chart.series.push(new am4charts.LineSeries());
    series1.dataFields.valueY = "italy";
    series1.dataFields.categoryX = "year";
    series1.name = "Inflow";
    series1.strokeWidth = 3;
    series1.bullets.push(new am4charts.CircleBullet());
    series1.tooltipText = "Cash {name}: {valueY}";
    series1.legendSettings.valueText = "{valueY}";
    series1.visible = false;

    var series2 = chart.series.push(new am4charts.LineSeries());
    series2.dataFields.valueY = "germany";
    series2.dataFields.categoryX = "year";
    series2.name = 'Outflow';
    series2.strokeWidth = 3;
    series2.bullets.push(new am4charts.CircleBullet());
    series2.tooltipText = "Cash {name}: {valueY}";
    series2.legendSettings.valueText = "{valueY}";

    var series3 = chart.series.push(new am4charts.LineSeries());
    series3.dataFields.valueY = "uk";
    series3.dataFields.categoryX = "year";
    series3.name = 'Net Change';
    series3.strokeWidth = 3;
    series3.bullets.push(new am4charts.CircleBullet());
    series3.tooltipText = "Cash {name}: {valueY}";
    series3.legendSettings.valueText = "{valueY}";

    // Add chart cursor
    chart.cursor = new am4charts.XYCursor();
    chart.cursor.behavior = "zoomY";

    // Add legend
    chart.legend = new am4charts.Legend();

  }); // end am4core.ready()
</script>
